<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.dian.mmall.dao.OrderExampleTimerMapper">


	<!--根据id查 -->
	<select id="getall" resultType="long">
		select id from
		<if test="a ==1"> wineandtableware    </if>
		<if test="a==2"> equipment    </if>
		<if test="a==3"> rent    </if>
		<if test="a==4"> menuandrenovationandpestcontrol    </if>
		<if test="a==5"> resume    </if>
		<if test="a==6"> departmentstore    </if>
		where authentiCationStatus=2 and welfareStatus=1
		and termOfValidity
		&lt; #{dateString}
	</select>


	<!-- 定时任务更新 为失效 -->
	<update id="upall">
		update
		<if test="a ==1"> wineandtableware    </if>
		<if test="a==2"> equipment    </if>
		<if test="a==3"> rent    </if>
		<if test="a==4"> menuandrenovationandpestcontrol    </if>
		<if test="a==5"> resume    </if>
		<if test="a==6"> departmentstore    </if>
		set
		updateTime=#{dateString}, examineName='过期定',welfareStatus=5
		where
		authentiCationStatus=2
		and welfareStatus=1
		and termOfValidity &lt;
		#{dateString}
	</update>
	<!-- 定时任务更新 为删除 -->
	<update id="delall">
		update
		<if test="a ==1"> wineandtableware    </if>
		<if test="a==2"> equipment    </if>
		<if test="a==3"> rent    </if>
		<if test="a==4"> menuandrenovationandpestcontrol    </if>
		<if test="a==5"> resume    </if>
		<if test="a==6"> departmentstore    </if>
	set
	updateTime=#{dateString}, examineName='删除定',welfareStatus=3
	where
	termOfValidity &lt; #{termOfValidity}
	and welfareStatus in (2,4,5)
	</update>
	

</mapper>