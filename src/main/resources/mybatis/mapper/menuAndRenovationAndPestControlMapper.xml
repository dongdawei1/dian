<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.dian.mmall.dao.releaseDao.MenuAndRenovationAndPestControlMapper">
     
     <!--发布过的条数  -->
     <select id="countNum" resultType="int">
        select count(*) from menuandrenovationandpestcontrol where welfareStatus!=3  and releaseType=#{releaseType} and userId =#{userId}
    </select>
         
          <!--创建用户成功返回非0  -->
     <insert id="create_menuAndRenovationAndPestControl"  >
        insert into menuandrenovationandpestcontrol (
        userId,releaseType,updateTime,createTime,pictureUrl,contact,
        consigneeName,companyName,detailed,addressDetailed,userType,serviceDetailed,
        startPrice,remarks,
        serviceIntroduction,releaseTitle,authentiCationStatus,welfareStatus
        ) values (
            #{userId},  #{releaseType}, #{updateTime}, #{createTime},#{pictureUrl},
            #{contact},#{consigneeName},#{companyName},#{detailed},
            #{addressDetailed},#{userType},
            #{serviceDetailed},#{startPrice},
            #{remarks},#{serviceIntroduction},
            #{releaseTitle},#{authentiCationStatus},#{welfareStatus}
        )
    </insert><!-- countNum -->
    
              <!--用户查询分页总条数  --> 
        <select id="get_usermrp_list_no"  resultType="long">
        select count(*) from menuandrenovationandpestcontrol where welfareStatus!=3 and userId=#{userId}   
        <if test="welfareStatus!=null">and  welfareStatus=#{welfareStatus}   </if>  
        <if test="releaseType!=null">and  releaseType=#{releaseType}   </if>  
    </select> 
    
       <!--用户查询分页--> 
        <select id="get_usermpr_list_all"  resultType="com.dian.mmall.pojo.meichongguanggao.MenuAndRenovationAndPestControl">
        select id,userId,evaluateid,servicFrequenc,releaseType,
    releaseTitle,serviceIntroduction,remarks,pictureUrl,startPrice,
    welfareStatus,authentiCationStatus,authentiCationFailure,
    detailed,addressDetailed,contact,consigneeName,createTime,
    updateTime,serviceDetailed,companyName
       from menuandrenovationandpestcontrol       
       where welfareStatus!=3 and userId=#{userId} 
        <if test="welfareStatus!=null">and  welfareStatus=#{welfareStatus}   </if>  
        <if test="releaseType!=null">and  releaseType=#{releaseType}   </if>  
       order by  updateTime desc
        limit #{pageLength}, #{pageSize}
    </select>
    
    
    
    
    
    <!--           
        <select id="get_usermrp_list_no"  resultType="long">
        select count(*) from menuandrenovationandpestcontrol where welfareStatus in()   
        <if test="welfareStatus!=null">and  welfareStatus=#{welfareStatus}   </if>  
        <if test="releaseType!=null">and  releaseType=#{releaseType}   </if>  
    </select> 
    
        
        <select id="get_usermpr_list_all"  resultType="com.dian.mmall.pojo.meichongguanggao.MenuAndRenovationAndPestControl">
        select id,userId,evaluateid,servicFrequenc,releaseType,
    releaseTitle,serviceIntroduction,remarks,pictureUrl,startPrice,
    welfareStatus,authentiCationStatus,authentiCationFailure,
    detailed,addressDetailed,contact,consigneeName,createTime,
    updateTime,serviceDetailed,companyName
       from menuandrenovationandpestcontrol       
       where welfareStatus!=3 and userId=#{userId} 
        <if test="welfareStatus!=null">and  welfareStatus=#{welfareStatus}   </if>  
        <if test="releaseType!=null">and  releaseType=#{releaseType}   </if>  
       order by  updateTime desc
        limit #{pageLength}, #{pageSize}
    </select> -->
    
</mapper>